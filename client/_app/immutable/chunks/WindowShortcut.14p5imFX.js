import{n as C,s as G,k as x,d as $,u as ee,g as te,f as le,r as ne,i as be,o as ve,l as q,m as N,b as ke}from"./scheduler.7mXBUu_C.js";import{S as L,i as P,g as E,m as se,s as O,h as I,j as D,n as oe,f as v,c as z,z as ye,k as h,l as B,a as V,y as b,D as M,o as re,d as S,t as W,x as Ee,e as A,p as Ie,b as Te,r as ie,u as ue,v as ae,w as ce}from"./index.LzOAh-iM.js";import{w as De}from"./index.g3sMKgk0.js";import"./Window.svelte_svelte_type_style_lang.iKML-Jua.js";import{e as K}from"./each.-oqiv04n.js";const Me=typeof window<"u";let Be=Me?n=>requestAnimationFrame(n):C;const U=De([]);function Ne(n){let e,t,l,s,o,r,a,i="âœ–",_,u,d,f,c,k,m;x(n[19]);const y=n[17].default,w=$(y,n,n[16],null);return{c(){e=E("div"),t=E("div"),l=E("p"),s=se(n[4]),o=O(),r=E("div"),a=E("button"),a.textContent=i,_=O(),u=E("div"),w&&w.c(),d=O(),f=E("button"),this.h()},l(p){e=I(p,"DIV",{style:!0,class:!0});var T=D(e);t=I(T,"DIV",{class:!0});var j=D(t);l=I(j,"P",{class:!0});var F=D(l);s=oe(F,n[4]),F.forEach(v),o=z(j),r=I(j,"DIV",{class:!0});var H=D(r);a=I(H,"BUTTON",{class:!0,"data-svelte-h":!0}),ye(a)!=="svelte-i5jknq"&&(a.textContent=i),H.forEach(v),j.forEach(v),_=z(T),u=I(T,"DIV",{class:!0});var X=D(u);w&&w.l(X),X.forEach(v),d=z(T),f=I(T,"BUTTON",{class:!0}),D(f).forEach(v),T.forEach(v),this.h()},h(){h(l,"class","text-stone-50 font-display px-1 pl-2"),h(a,"class","text-stone-50 h-full w-full text-xs font-terminal"),h(r,"class","bg-stone-700 relative flex justify-around items-center border-l-2 w-6"),h(t,"class","sticky flex justify-between items-center w-full bg-stone-950 border-stone-50 border-b-2 h-5 cursor-move select-none "),h(u,"class","overflow-y-auto overscroll-contain w-full h-full"),h(f,"class","absolute bottom-0 right-0 arrow cursor-nwse-resize w-0 h-0  svelte-1nxafw1"),B(e,"left",n[0]+"px"),B(e,"top",n[1]+"px"),B(e,"width",n[2]+"px"),B(e,"height",n[3]+"px"),B(e,"z-index",n[12]),B(e,"display",n[11]),h(e,"class","bg-stone-950 border-stone-50 border-2 rounded-sm absolute overflow-hidden flex flex-col justify-between ")},m(p,T){V(p,e,T),b(e,t),b(t,l),b(l,s),b(t,o),b(t,r),b(r,a),b(e,_),b(e,u),w&&w.m(u,null),b(e,d),b(e,f),c=!0,k||(m=[M(window,"mouseup",n[18]),M(window,"mousemove",n[13]),M(window,"resize",n[19]),M(a,"click",n[20]),M(t,"mousedown",n[21]),M(f,"mousedown",n[22]),M(e,"mousedown",n[23])],k=!0)},p(p,[T]){(!c||T&16)&&re(s,p[4]),w&&w.p&&(!c||T&65536)&&ee(w,y,p,p[16],c?le(y,p[16],T,null):te(p[16]),null),(!c||T&1)&&B(e,"left",p[0]+"px"),(!c||T&2)&&B(e,"top",p[1]+"px"),(!c||T&4)&&B(e,"width",p[2]+"px"),(!c||T&8)&&B(e,"height",p[3]+"px"),(!c||T&4096)&&B(e,"z-index",p[12]),(!c||T&2048)&&B(e,"display",p[11])},i(p){c||(S(w,p),c=!0)},o(p){W(w,p),c=!1},d(p){p&&v(e),w&&w.d(p),k=!1,ne(m)}}}let Y=20;function Oe(n,e,t){let l,s;be(n,U,g=>t(6,s=g));let{$$slots:o={},$$scope:r}=e,a={x:100,y:100,width:100,height:100},{title:i=""}=e,{left:_=a.x}=e,{top:u=a.y}=e,{width:d=a.width}=e,{height:f=a.height}=e,c,k,m=!1,y=!1,w,p="flex";function T(g){let R=Math.sign(g.movementX),me=_>Y||R==1,pe=_+d<c-Y||R==-1,J=Math.sign(g.movementY),ge=u>Y||J==1,we=u+f<k-Y||J==-1;m&&(me&&pe&&t(0,_+=g.movementX),ge&&we&&t(1,u+=g.movementY)),y&&(t(3,f+=g.movementY),t(2,d+=g.movementX))}ve(()=>(s.length>0?q(U,s=[...s,Number(s.slice(-1))+1],s):q(U,s=[1],s),t(5,w=s.slice(-1)[0]),()=>{q(U,s=[...s.filter(g=>g!==w)],s)}));function j(){t(11,p="flex"),q(U,s=[...s.filter(g=>g!==w),w],s)}function F(){t(11,p="none")}const H=()=>{t(9,m=!1),t(10,y=!1)};function X(){t(7,c=window.innerWidth),t(8,k=window.innerHeight)}const fe=()=>{t(11,p="none")},de=()=>{t(9,m=!0)},_e=()=>{t(10,y=!0)},he=()=>{q(U,s=[...s.filter(g=>g!==w),w],s)};return n.$$set=g=>{"title"in g&&t(4,i=g.title),"left"in g&&t(0,_=g.left),"top"in g&&t(1,u=g.top),"width"in g&&t(2,d=g.width),"height"in g&&t(3,f=g.height),"$$scope"in g&&t(16,r=g.$$scope)},n.$$.update=()=>{n.$$.dirty&96&&t(12,l=s.indexOf(w))},[_,u,d,f,i,w,s,c,k,m,y,p,l,T,j,F,r,o,H,X,fe,de,_e,he]}class Qe extends L{constructor(e){super(),P(this,e,Oe,Ne,G,{title:4,left:0,top:1,width:2,height:3,show:14,hide:15})}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[15]}}function Q(n,e,t){const l=n.slice();return l[3]=e[t].type,l[4]=e[t].title,l[5]=e[t].url,l[7]=t,l}function ze(n){let e,t,l,s,o,r,a,i;function _(){return n[2](n[7])}return{c(){e=E("li"),t=E("button"),l=E("img"),r=O(),this.h()},l(u){e=I(u,"LI",{class:!0,id:!0});var d=D(e);t=I(d,"BUTTON",{class:!0});var f=D(t);l=I(f,"IMG",{src:!0,alt:!0,class:!0}),f.forEach(v),r=z(d),d.forEach(v),this.h()},h(){N(l.src,s=n[5])||h(l,"src",s),h(l,"alt",o=n[4]),h(l,"class","pointer-events-none select-none rounded-sm w-full"),h(t,"class","hover:opacity-60 transition duration-100 ease-in-out w-full"),h(e,"class","shrink-0 w-1/4 rounded-sm"),h(e,"id","item-"+n[7])},m(u,d){V(u,e,d),b(e,t),b(t,l),b(e,r),a||(i=M(t,"click",_),a=!0)},p(u,d){n=u,d&1&&!N(l.src,s=n[5])&&h(l,"src",s),d&1&&o!==(o=n[4])&&h(l,"alt",o)},d(u){u&&v(e),a=!1,i()}}}function Ve(n){let e,t,l,s,o,r;return{c(){e=E("li"),t=E("button"),l=E("img"),r=O(),this.h()},l(a){e=I(a,"LI",{class:!0,id:!0});var i=D(e);t=I(i,"BUTTON",{class:!0});var _=D(t);l=I(_,"IMG",{src:!0,alt:!0,class:!0}),_.forEach(v),r=z(i),i.forEach(v),this.h()},h(){N(l.src,s=n[5])||h(l,"src",s),h(l,"alt",o=n[4]),h(l,"class","pointer-events-none select-none rounded-sm w-full"),h(t,"class","opacity-60 border-2 border-stone-700 rounded-sm"),h(e,"class","shrink-0 w-1/4 scale-90"),h(e,"id","item-"+n[7])},m(a,i){V(a,e,i),b(e,t),b(t,l),b(e,r)},p(a,i){i&1&&!N(l.src,s=a[5])&&h(l,"src",s),i&1&&o!==(o=a[4])&&h(l,"alt",o)},d(a){a&&v(e)}}}function Z(n){let e;function t(o,r){return o[7]==o[1]?Ve:ze}let l=t(n),s=l(n);return{c(){s.c(),e=A()},l(o){s.l(o),e=A()},m(o,r){s.m(o,r),V(o,e,r)},p(o,r){l===(l=t(o))&&s?s.p(o,r):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){o&&v(e),s.d(o)}}}function je(n){let e,t,l,s,o,r,a=n[0][n[1]].title+"",i,_,u,d=K(n[0]),f=[];for(let c=0;c<d.length;c+=1)f[c]=Z(Q(n,d,c));return{c(){e=E("div"),t=E("img"),o=O(),r=E("p"),i=se(a),_=O(),u=E("ul");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var k=D(e);t=I(k,"IMG",{src:!0,alt:!0,class:!0}),o=z(k),r=I(k,"P",{class:!0});var m=D(r);i=oe(m,a),m.forEach(v),_=z(k),u=I(k,"UL",{class:!0});var y=D(u);for(let w=0;w<f.length;w+=1)f[w].l(y);y.forEach(v),k.forEach(v),this.h()},h(){N(t.src,l=n[0][n[1]].url)||h(t,"src",l),h(t,"alt",s=n[0][n[1]].title),h(t,"class","rounded-sm pointer-events-none select-none pt-5 px-5"),h(r,"class","text-stone-50 text-center border-b-2 border-stone-700 mb-4"),h(u,"class","flex overflow-x-auto gap-4 px-5"),h(e,"class","flex flex-col gap-2")},m(c,k){V(c,e,k),b(e,t),b(e,o),b(e,r),b(r,i),b(e,_),b(e,u);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(u,null)},p(c,[k]){if(k&3&&!N(t.src,l=c[0][c[1]].url)&&h(t,"src",l),k&3&&s!==(s=c[0][c[1]].title)&&h(t,"alt",s),k&3&&a!==(a=c[0][c[1]].title+"")&&re(i,a),k&3){d=K(c[0]);let m;for(m=0;m<d.length;m+=1){const y=Q(c,d,m);f[m]?f[m].p(y,k):(f[m]=Z(y),f[m].c(),f[m].m(u,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=d.length}},i:C,o:C,d(c){c&&v(e),Ee(f,c)}}}function Ue(n,e,t){let{content:l}=e,s=0;const o=r=>{t(1,s=r)};return n.$$set=r=>{"content"in r&&t(0,l=r.content)},[l,s,o]}class Se extends L{constructor(e){super(),P(this,e,Ue,je,G,{content:0})}}function We(n){let e,t,l,s=!1,o,r,a;function i(){cancelAnimationFrame(o),t.paused||(o=Be(i),s=!0),n[8].call(t)}return{c(){e=E("div"),t=E("video"),this.h()},l(_){e=I(_,"DIV",{class:!0});var u=D(e);t=I(u,"VIDEO",{src:!0,class:!0}),D(t).forEach(v),u.forEach(v),this.h()},h(){N(t.src,l=n[3].url)||h(t,"src",l),t.playsInline=!0,t.muted=!0,h(t,"class","h-full w-full "),n[1]===void 0&&x(()=>n[9].call(t)),h(e,"class","relative h-full w-full ")},m(_,u){V(_,e,u),b(e,t),n[7](t),r||(a=[M(t,"timeupdate",i),M(t,"durationchange",n[9]),M(e,"mouseover",n[4]),M(e,"mouseout",n[5])],r=!0)},p(_,[u]){!s&&u&1&&!isNaN(_[0])&&(t.currentTime=_[0]),s=!1},i:C,o:C,d(_){_&&v(e),n[7](null),r=!1,ne(a)}}}function qe(n,e,t){let l,{content:s}=e,o=s[0],r,a,i,_=!1;function u(){console.log("in"),_=!0,r.play()}function d(){console.log("out"),_=!1,t(0,a=l),r.play()}function f(y){y>=i/2&&_&&r.pause()}function c(y){ke[y?"unshift":"push"](()=>{r=y,t(2,r)})}function k(){a=this.currentTime,t(0,a)}function m(){i=this.duration,t(1,i)}return n.$$set=y=>{"content"in y&&t(6,s=y.content)},n.$$.update=()=>{n.$$.dirty&3&&(l=i-a),n.$$.dirty&1&&f(a)},[a,i,r,o,u,d,s,c,k,m]}class Ce extends L{constructor(e){super(),P(this,e,qe,We,G,{content:6})}}function Ge(n){let e,t;return e=new Ce({props:{content:n[0]}}),{c(){ie(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.content=l[0]),e.$set(o)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Le(n){let e,t;return e=new Se({props:{content:n[0]}}),{c(){ie(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,s){ae(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.content=l[0]),e.$set(o)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function Pe(n){let e,t,l,s;const o=[Le,Ge],r=[];function a(i,_){return i[1]=="filmstrip"?0:i[1]=="hover_player"?1:-1}return~(e=a(n))&&(t=r[e]=o[e](n)),{c(){t&&t.c(),l=A()},l(i){t&&t.l(i),l=A()},m(i,_){~e&&r[e].m(i,_),V(i,l,_),s=!0},p(i,[_]){let u=e;e=a(i),e===u?~e&&r[e].p(i,_):(t&&(Ie(),W(r[u],1,1,()=>{r[u]=null}),Te()),~e?(t=r[e],t?t.p(i,_):(t=r[e]=o[e](i),t.c()),S(t,1),t.m(l.parentNode,l)):t=null)},i(i){s||(S(t),s=!0)},o(i){W(t),s=!1},d(i){i&&v(l),~e&&r[e].d(i)}}}function Fe(n,e,t){let{content:l}=e,{type:s}=e;return n.$$set=o=>{"content"in o&&t(0,l=o.content),"type"in o&&t(1,s=o.type)},[l,s]}class Ze extends L{constructor(e){super(),P(this,e,Fe,Pe,G,{content:0,type:1})}}function He(n){let e,t,l,s,o,r,a,i;const _=n[3].default,u=$(_,n,n[2],null);return{c(){e=E("button"),t=E("img"),s=O(),o=E("p"),u&&u.c(),this.h()},l(d){e=I(d,"BUTTON",{class:!0});var f=D(e);t=I(f,"IMG",{src:!0,class:!0}),s=z(f),o=I(f,"P",{class:!0});var c=D(o);u&&u.l(c),c.forEach(v),f.forEach(v),this.h()},h(){N(t.src,l=n[1])||h(t,"src",l),h(t,"class","w-11/12 p-1"),h(o,"class","truncate w-full"),h(e,"class","w-28 flex flex-col items-center justify-center gap-y-1 text-xs px-1 hover:bg-stone-700 text-stone-50")},m(d,f){V(d,e,f),b(e,t),b(e,s),b(e,o),u&&u.m(o,null),r=!0,a||(i=M(e,"click",n[4]),a=!0)},p(d,[f]){(!r||f&2&&!N(t.src,l=d[1]))&&h(t,"src",l),u&&u.p&&(!r||f&4)&&ee(u,_,d,d[2],r?le(_,d[2],f,null):te(d[2]),null)},i(d){r||(S(u,d),r=!0)},o(d){W(u,d),r=!1},d(d){d&&v(e),u&&u.d(d),a=!1,i()}}}function Xe(n,e,t){let{$$slots:l={},$$scope:s}=e,{ref:o}=e,{src:r=""}=e;const a=()=>o.show();return n.$$set=i=>{"ref"in i&&t(0,o=i.ref),"src"in i&&t(1,r=i.src),"$$scope"in i&&t(2,s=i.$$scope)},[o,r,s,l,a]}class xe extends L{constructor(e){super(),P(this,e,Xe,He,G,{ref:0,src:1})}}export{Ze as S,Qe as W,xe as a};
